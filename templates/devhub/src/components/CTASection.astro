---
interface Props {
  headline?: string;
  description?: string;
  primaryCta?: string;
  secondaryCta?: string;
}

const {
  headline = "Millions of developers and businesses call DevHub home",
  description = "Whether you're scaling your development process or just learning how to code, DevHub is where you belong. Join the world's most widely adopted developer platform to build the technologies that shape what's next.",
  primaryCta = "Sign up for DevHub",
  secondaryCta = "Try AI Copilot free"
} = Astro.props;
---

<section class="cta-section section" id="cta">
  <!-- Background -->
  <div class="cta-bg" aria-hidden="true">
    <div class="cta-glow"></div>
  </div>

  <div class="container">
    <div class="cta-content">
      <!-- Mascot Illustration -->
      <div class="cta-mascots" aria-hidden="true">
        <div class="mascot-group">
          <div class="mascot m1">
            <svg viewBox="0 0 64 64" width="100" height="100" fill="none">
              <circle cx="32" cy="32" r="28" fill="url(#cta-gradient-1)" opacity="0.9"/>
              <circle cx="24" cy="28" r="4" fill="#0D1117"/>
              <circle cx="40" cy="28" r="4" fill="#0D1117"/>
              <path d="M24 40c4 4 12 4 16 0" stroke="#0D1117" stroke-width="3" stroke-linecap="round"/>
              <defs>
                <linearGradient id="cta-gradient-1" x1="0" y1="0" x2="64" y2="64">
                  <stop offset="0%" stop-color="#A371F7"/>
                  <stop offset="100%" stop-color="#6E40C9"/>
                </linearGradient>
              </defs>
            </svg>
          </div>
          <div class="mascot m2">
            <svg viewBox="0 0 48 48" width="70" height="70" fill="none">
              <rect x="4" y="8" width="40" height="32" rx="4" fill="url(#cta-gradient-2)"/>
              <rect x="12" y="16" width="24" height="3" rx="1.5" fill="#0D1117" opacity="0.6"/>
              <rect x="12" y="22" width="16" height="3" rx="1.5" fill="#0D1117" opacity="0.6"/>
              <rect x="12" y="28" width="20" height="3" rx="1.5" fill="#3FB950"/>
              <defs>
                <linearGradient id="cta-gradient-2" x1="0" y1="0" x2="48" y2="48">
                  <stop offset="0%" stop-color="#79C0FF"/>
                  <stop offset="100%" stop-color="#A371F7"/>
                </linearGradient>
              </defs>
            </svg>
          </div>
          <div class="mascot m3">
            <svg viewBox="0 0 48 48" width="60" height="60" fill="none">
              <circle cx="24" cy="24" r="20" fill="url(#cta-gradient-3)"/>
              <ellipse cx="18" cy="20" rx="3" ry="4" fill="#0D1117"/>
              <ellipse cx="30" cy="20" rx="3" ry="4" fill="#0D1117"/>
              <path d="M18 30c3 4 9 4 12 0" stroke="#0D1117" stroke-width="2" stroke-linecap="round"/>
              <defs>
                <linearGradient id="cta-gradient-3" x1="0" y1="0" x2="48" y2="48">
                  <stop offset="0%" stop-color="#FFDF5D"/>
                  <stop offset="100%" stop-color="#FFA657"/>
                </linearGradient>
              </defs>
            </svg>
          </div>
        </div>
      </div>

      <!-- Text Content -->
      <h2 class="cta-headline">{headline}</h2>
      <p class="cta-description">{description}</p>

      <!-- Form -->
      <form class="cta-form" action="#" method="POST">
        <div class="cta-form-group">
          <label for="cta-email" class="sr-only">Email address</label>
          <input 
            type="email" 
            id="cta-email" 
            name="email" 
            placeholder="Enter your email"
            required
            class="cta-input"
          />
          <button type="submit" class="btn btn-primary btn-lg cta-submit">
            {primaryCta}
          </button>
        </div>
      </form>

      <!-- Secondary CTA -->
      <a href="#copilot" class="cta-secondary">
        {secondaryCta}
        <svg viewBox="0 0 16 16" width="16" height="16" fill="currentColor" aria-hidden="true">
          <path d="M6.22 3.22a.75.75 0 011.06 0l4.25 4.25a.75.75 0 010 1.06l-4.25 4.25a.751.751 0 01-1.042-.018.751.751 0 01-.018-1.042L9.94 8 6.22 4.28a.75.75 0 010-1.06z"/>
        </svg>
      </a>
    </div>
  </div>
</section>

<style>
  .cta-section {
    position: relative;
    background-color: var(--color-canvas-default);
  }

  .cta-bg {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: hidden;
  }

  .cta-glow {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 120%;
    height: 80%;
    background: radial-gradient(ellipse 60% 50% at 50% 80%, rgba(163, 113, 247, 0.1) 0%, transparent 70%);
  }

  .cta-content {
    position: relative;
    text-align: center;
    max-width: 800px;
    margin-inline: auto;
  }

  /* Mascots */
  .cta-mascots {
    margin-bottom: var(--space-10);
  }

  .mascot-group {
    display: flex;
    justify-content: center;
    align-items: flex-end;
    gap: var(--space-4);
  }

  .mascot {
    animation: float 3s ease-in-out infinite;
    filter: drop-shadow(0 10px 30px rgba(163, 113, 247, 0.3));
  }

  .m1 {
    animation-delay: 0s;
  }

  .m2 {
    animation-delay: 0.3s;
  }

  .m3 {
    animation-delay: 0.6s;
  }

  /* Text */
  .cta-headline {
    font-size: clamp(var(--font-size-2xl), 5vw, var(--font-size-4xl));
    font-weight: var(--font-weight-semibold);
    margin-bottom: var(--space-6);
  }

  .cta-description {
    font-size: var(--font-size-lg);
    color: var(--color-fg-muted);
    margin-bottom: var(--space-8);
    line-height: var(--line-height-relaxed);
  }

  /* Form */
  .cta-form {
    margin-bottom: var(--space-6);
  }

  .cta-form-group {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
    max-width: 500px;
    margin-inline: auto;
  }

  @media (min-width: 640px) {
    .cta-form-group {
      flex-direction: row;
    }
  }

  .cta-input {
    flex: 1;
    padding: var(--space-4) var(--space-5);
    font-size: var(--font-size-base);
    background-color: rgba(22, 27, 34, 0.8);
    border: 1px solid var(--color-border-default);
    border-radius: var(--radius-lg);
  }

  .cta-input:focus {
    border-color: var(--color-accent-emphasis);
    box-shadow: 0 0 0 3px rgba(46, 160, 67, 0.2);
  }

  .cta-submit {
    white-space: nowrap;
    padding-inline: var(--space-8);
  }

  /* Secondary CTA */
  .cta-secondary {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-4) var(--space-6);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-semibold);
    color: var(--color-fg-default);
    background-color: transparent;
    border: 1px solid var(--color-border-default);
    border-radius: var(--radius-lg);
    transition: all var(--transition-base);
  }

  .cta-secondary:hover {
    background-color: var(--color-canvas-subtle);
    border-color: var(--color-fg-muted);
    color: var(--color-fg-default);
  }

  .cta-secondary svg {
    transition: transform var(--transition-fast);
  }

  .cta-secondary:hover svg {
    transform: translateX(4px);
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }
</style>
